import{a as Dt,b as Et,c as Qt,e as It}from"./chunk-ZDDHCFJN.js";import{Q as tt,R as et,T as Rt,f as Pt}from"./chunk-U2QLRHTQ.js";import{$a as J,Aa as gt,Ba as z,Ca as W,Ga as vt,Nb as _,Pb as St,Qb as Ft,R as V,Ub as Mt,Y as dt,_a as Y,a as o,aa as pt,b as h,bb as X,ca as yt,ea as Q,fb as Z,g as S,h as j,i as ht,ia as I,j as A,ka as O,m as E,na as mt,p as lt,rc as Ct,tb as bt,ub as Ot,vb as wt,w as B,y as ft}from"./chunk-4ZH4A4OW.js";var ye=(()=>{let e=class e{constructor(){this.name=`${Dt} | ${Et} ${It}`,this.developer=Qt,this.year=new Date().getFullYear()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=mt({type:e,selectors:[["app-footer"]],standalone:!0,features:[Mt],decls:4,vars:3,consts:[[1,"w-100","mx-auto","mt-4","max-w-[75ch]","text-pretty","text-center","text-sm","text-gray-400"]],template:function(i,n){i&1&&(bt(0,"footer",0),_(1),wt(2,"br"),_(3),Ot()),i&2&&(X(),St(" ",n.name,""),X(2),Ft(" ",n.developer," \xA9 ",n.year," "))},encapsulation:2});let t=e;return t})();var M=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}};var P=typeof window>"u"||"Deno"in window;function b(){}function At(t,e){return typeof t=="function"?t(e):t}function kt(t){return typeof t=="number"&&t>=0&&t!==1/0}function Ut(t,e){return Math.max(t+(e||0)-Date.now(),0)}function st(t,e){let{type:r="all",exact:s,fetchStatus:i,predicate:n,queryKey:a,stale:c}=t;if(a){if(s){if(e.queryHash!==k(a,e.options))return!1}else if(!q(e.queryKey,a))return!1}if(r!=="all"){let u=e.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||typeof i<"u"&&i!==e.state.fetchStatus||n&&!n(e))}function it(t,e){let{exact:r,status:s,predicate:i,mutationKey:n}=t;if(n){if(!e.options.mutationKey)return!1;if(r){if(C(e.options.mutationKey)!==C(n))return!1}else if(!q(e.options.mutationKey,n))return!1}return!(s&&e.state.status!==s||i&&!i(e))}function k(t,e){return(e?.queryKeyHashFn||C)(t)}function C(t){return JSON.stringify(t,(e,r)=>rt(r)?Object.keys(r).sort().reduce((s,i)=>(s[i]=r[i],s),{}):r)}function q(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!q(t[r],e[r])):!1}function Tt(t,e){if(t===e)return t;let r=qt(t)&&qt(e);if(r||rt(t)&&rt(e)){let s=r?t:Object.keys(t),i=s.length,n=r?e:Object.keys(e),a=n.length,c=r?[]:{},u=0;for(let l=0;l<a;l++){let p=r?l:n[l];!r&&t[p]===void 0&&e[p]===void 0&&s.includes(p)?(c[p]=void 0,u++):(c[p]=Tt(t[p],e[p]),c[p]===t[p]&&t[p]!==void 0&&u++)}return i===a&&u===i?t:c}return e}function Kt(t,e){if(t&&!e||e&&!t)return!1;for(let r in t)if(t[r]!==e[r])return!1;return!0}function qt(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function rt(t){if(!xt(t))return!1;let e=t.constructor;if(typeof e>"u")return!0;let r=e.prototype;return!(!xt(r)||!r.hasOwnProperty("isPrototypeOf"))}function xt(t){return Object.prototype.toString.call(t)==="[object Object]"}function Lt(t){return new Promise(e=>{setTimeout(e,t)})}function Nt(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Tt(t,e):e}function Gt(t,e,r=0){let s=[...t,e];return r&&s.length>r?s.slice(1):s}function Ht(t,e,r=0){let s=[e,...t];return r&&s.length>r?s.slice(0,-1):s}var ee=class extends M{#t;#r;#e;constructor(){super(),this.#e=t=>{if(!P&&window.addEventListener){let e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#r||this.setEventListener(this.#e)}onUnsubscribe(){this.hasListeners()||(this.#r?.(),this.#r=void 0)}setEventListener(t){this.#e=t,this.#r?.(),this.#r=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){this.listeners.forEach(t=>{t()})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},U=new ee;var re=class extends M{#t=!0;#r;#e;constructor(){super(),this.#e=t=>{if(!P&&window.addEventListener){let e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#r||this.setEventListener(this.#e)}onUnsubscribe(){this.hasListeners()||(this.#r?.(),this.#r=void 0)}setEventListener(t){this.#e=t,this.#r?.(),this.#r=t(this.setOnline.bind(this))}setOnline(t){this.#t!==t&&(this.#t=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#t}},x=new re;function se(t){return Math.min(1e3*2**t,3e4)}function T(t){return(t??"online")==="online"?x.isOnline():!0}var $t=class{constructor(t){this.revert=t?.revert,this.silent=t?.silent}};function G(t){return t instanceof $t}function H(t){let e=!1,r=0,s=!1,i,n,a,c=new Promise((y,g)=>{n=y,a=g}),u=y=>{s||(m(new $t(y)),t.abort?.())},l=()=>{e=!0},p=()=>{e=!1},D=()=>!U.isFocused()||t.networkMode!=="always"&&!x.isOnline(),f=y=>{s||(s=!0,t.onSuccess?.(y),i?.(),n(y))},m=y=>{s||(s=!0,t.onError?.(y),i?.(),a(y))},v=()=>new Promise(y=>{i=g=>{let F=s||!D();return F&&y(g),F},t.onPause?.()}).then(()=>{i=void 0,s||t.onContinue?.()}),w=()=>{if(s)return;let y;try{y=t.fn()}catch(g){y=Promise.reject(g)}Promise.resolve(y).then(f).catch(g=>{if(s)return;let F=t.retry??(P?0:3),R=t.retryDelay??se,N=typeof R=="function"?R(r,g):R,te=F===!0||typeof F=="number"&&r<F||typeof F=="function"&&F(r,g);if(e||!te){m(g);return}r++,t.onFail?.(r,g),Lt(N).then(()=>{if(D())return v()}).then(()=>{e?m(g):w()})})};return T(t.networkMode)?w():v().then(w),{promise:c,cancel:u,continue:()=>i?.()?c:Promise.resolve(),cancelRetry:l,continueRetry:p}}function ie(){let t=[],e=0,r=f=>{f()},s=f=>{f()},i=f=>setTimeout(f,0),n=f=>{i=f},a=f=>{let m;e++;try{m=f()}finally{e--,e||l()}return m},c=f=>{e?t.push(f):i(()=>{r(f)})},u=f=>(...m)=>{c(()=>{f(...m)})},l=()=>{let f=t;t=[],f.length&&i(()=>{s(()=>{f.forEach(m=>{r(m)})})})};return{batch:a,batchCalls:u,schedule:c,setNotifyFunction:f=>{r=f},setBatchNotifyFunction:f=>{s=f},setScheduler:n}}var d=ie();var $=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),kt(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(P?1/0:5*60*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}};var Bt=class extends ${constructor(t){super(),this.#o=!1,this.#u=t.defaultOptions,this.#c(t.options),this.#i=[],this.#e=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#t=t.state||ne(this.options),this.state=this.#t,this.scheduleGc()}#t;#r;#e;#n;#s;#i;#u;#o;get meta(){return this.options.meta}#c(t){this.options=o(o({},this.#u),t),this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.#i.length&&this.state.fetchStatus==="idle"&&this.#e.remove(this)}setData(t,e){let r=Nt(this.state.data,t,this.options);return this.#a({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#a({type:"setState",state:t,setStateOptions:e})}cancel(t){let e=this.#n;return this.#s?.cancel(t),e?e.then(b).catch(b):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.#i.some(t=>t.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.#i.some(t=>t.getCurrentResult().isStale)}isStaleByTime(t=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!Ut(this.state.dataUpdatedAt,t)}onFocus(){this.#i.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.#i.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(t){this.#i.includes(t)||(this.#i.push(t),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.#i.includes(t)&&(this.#i=this.#i.filter(e=>e!==t),this.#i.length||(this.#s&&(this.#o?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#e.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.#i.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#s?.continueRetry(),this.#n}if(t&&this.#c(t),!this.options.queryFn){let u=this.#i.find(l=>l.options.queryFn);u&&this.#c(u.options)}let r=new AbortController,s={queryKey:this.queryKey,meta:this.meta},i=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})};i(s);let n=()=>this.options.queryFn?(this.#o=!1,this.options.persister?this.options.persister(this.options.queryFn,s,this):this.options.queryFn(s)):Promise.reject(new Error(`Missing queryFn: '${this.options.queryHash}'`)),a={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:n};i(a),this.options.behavior?.onFetch(a,this),this.#r=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#a({type:"fetch",meta:a.fetchOptions?.meta});let c=u=>{G(u)&&u.silent||this.#a({type:"error",error:u}),G(u)||(this.#e.config.onError?.(u,this),this.#e.config.onSettled?.(this.state.data,u,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.#s=H({fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:u=>{if(typeof u>"u"){c(new Error(`${this.queryHash} data is undefined`));return}this.setData(u),this.#e.config.onSuccess?.(u,this),this.#e.config.onSettled?.(u,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:c,onFail:(u,l)=>{this.#a({type:"failed",failureCount:u,error:l})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode}),this.#n=this.#s.promise,this.#n}#a(t){let e=r=>{switch(t.type){case"failed":return h(o({},r),{fetchFailureCount:t.failureCount,fetchFailureReason:t.error});case"pause":return h(o({},r),{fetchStatus:"paused"});case"continue":return h(o({},r),{fetchStatus:"fetching"});case"fetch":return o(h(o({},r),{fetchFailureCount:0,fetchFailureReason:null,fetchMeta:t.meta??null,fetchStatus:T(this.options.networkMode)?"fetching":"paused"}),!r.dataUpdatedAt&&{error:null,status:"pending"});case"success":return o(h(o({},r),{data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success"}),!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null});case"error":let s=t.error;return G(s)&&s.revert&&this.#r?h(o({},this.#r),{fetchStatus:"idle"}):h(o({},r),{error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"});case"invalidate":return h(o({},r),{isInvalidated:!0});case"setState":return o(o({},r),t.state)}};this.state=e(this.state),d.batch(()=>{this.#i.forEach(r=>{r.onQueryUpdate()}),this.#e.notify({query:this,type:"updated",action:t})})}};function ne(t){let e=typeof t.initialData=="function"?t.initialData():t.initialData,r=typeof e<"u",s=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Vt=class extends M{constructor(t={}){super(),this.config=t,this.#t=new Map}#t;build(t,e,r){let s=e.queryKey,i=e.queryHash??k(s,e),n=this.get(i);return n||(n=new Bt({cache:this,queryKey:s,queryHash:i,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(n)),n}add(t){this.#t.has(t.queryHash)||(this.#t.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){let e=this.#t.get(t.queryHash);e&&(t.destroy(),e===t&&this.#t.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){d.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#t.get(t)}getAll(){return[...this.#t.values()]}find(t){let e=o({exact:!0},t);return this.getAll().find(r=>st(e,r))}findAll(t={}){let e=this.getAll();return Object.keys(t).length>0?e.filter(r=>st(t,r)):e}notify(t){d.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){d.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){d.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}};var zt=class extends ${constructor(t){super(),this.mutationId=t.mutationId,this.#r=t.defaultOptions,this.#e=t.mutationCache,this.#t=[],this.state=t.state||nt(),this.setOptions(t.options),this.scheduleGc()}#t;#r;#e;#n;setOptions(t){this.options=o(o({},this.#r),t),this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}execute(t){return A(this,null,function*(){let e=()=>(this.#n=H({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(s,i)=>{this.#s({type:"failed",failureCount:s,error:i})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.#n.promise),r=this.state.status==="pending";try{if(!r){this.#s({type:"pending",variables:t}),yield this.#e.config.onMutate?.(t,this);let i=yield this.options.onMutate?.(t);i!==this.state.context&&this.#s({type:"pending",context:i,variables:t})}let s=yield e();return yield this.#e.config.onSuccess?.(s,t,this.state.context,this),yield this.options.onSuccess?.(s,t,this.state.context),yield this.#e.config.onSettled?.(s,null,this.state.variables,this.state.context,this),yield this.options.onSettled?.(s,null,t,this.state.context),this.#s({type:"success",data:s}),s}catch(s){try{throw yield this.#e.config.onError?.(s,t,this.state.context,this),yield this.options.onError?.(s,t,this.state.context),yield this.#e.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this),yield this.options.onSettled?.(void 0,s,t,this.state.context),s}finally{this.#s({type:"error",error:s})}}})}#s(t){let e=r=>{switch(t.type){case"failed":return h(o({},r),{failureCount:t.failureCount,failureReason:t.error});case"pause":return h(o({},r),{isPaused:!0});case"continue":return h(o({},r),{isPaused:!1});case"pending":return h(o({},r),{context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!T(this.options.networkMode),status:"pending",variables:t.variables,submittedAt:Date.now()});case"success":return h(o({},r),{data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1});case"error":return h(o({},r),{data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"})}};this.state=e(this.state),d.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(t)}),this.#e.notify({mutation:this,type:"updated",action:t})})}};function nt(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Wt=class extends M{constructor(t={}){super(),this.config=t,this.#t=[],this.#r=0}#t;#r;#e;build(t,e,r){let s=new zt({mutationCache:this,mutationId:++this.#r,options:t.defaultMutationOptions(e),state:r});return this.add(s),s}add(t){this.#t.push(t),this.notify({type:"added",mutation:t})}remove(t){this.#t=this.#t.filter(e=>e!==t),this.notify({type:"removed",mutation:t})}clear(){d.batch(()=>{this.#t.forEach(t=>{this.remove(t)})})}getAll(){return this.#t}find(t){let e=o({exact:!0},t);return this.#t.find(r=>it(e,r))}findAll(t={}){return this.#t.filter(e=>it(t,e))}notify(t){d.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){return this.#e=(this.#e??Promise.resolve()).then(()=>{let t=this.#t.filter(e=>e.state.isPaused);return d.batch(()=>t.reduce((e,r)=>e.then(()=>r.continue().catch(b)),Promise.resolve()))}).then(()=>{this.#e=void 0}),this.#e}};function Jt(t){return{onFetch:(e,r)=>{let s=()=>A(this,null,function*(){let i=e.options,n=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],c=e.state.data?.pageParams||[],u={pages:[],pageParams:[]},l=!1,p=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(e.signal.aborted?l=!0:e.signal.addEventListener("abort",()=>{l=!0}),e.signal)})},D=e.options.queryFn||(()=>Promise.reject(new Error(`Missing queryFn: '${e.options.queryHash}'`))),f=(v,w,y)=>A(this,null,function*(){if(l)return Promise.reject();if(w==null&&v.pages.length)return Promise.resolve(v);let g={queryKey:e.queryKey,pageParam:w,direction:y?"backward":"forward",meta:e.options.meta};p(g);let F=yield D(g),{maxPages:R}=e.options,N=y?Ht:Gt;return{pages:N(v.pages,F,R),pageParams:N(v.pageParams,w,R)}}),m;if(n&&a.length){let v=n==="backward",w=v?oe:Yt,y={pages:a,pageParams:c},g=w(i,y);m=yield f(y,g,v)}else{m=yield f(u,c[0]??i.initialPageParam);let v=t??a.length;for(let w=1;w<v;w++){let y=Yt(i,m);m=yield f(m,y)}}return m});e.options.persister?e.fetchFn=()=>e.options.persister?.(s,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=s}}}function Yt(t,{pages:e,pageParams:r}){let s=e.length-1;return t.getNextPageParam(e[s],e,r[s],r)}function oe(t,{pages:e,pageParams:r}){return t.getPreviousPageParam?.(e[0],e,r[0],r)}var ot=class{#t;#r;#e;#n;#s;#i;#u;#o;constructor(t={}){this.#t=t.queryCache||new Vt,this.#r=t.mutationCache||new Wt,this.#e=t.defaultOptions||{},this.#n=new Map,this.#s=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#u=U.subscribe(()=>{U.isFocused()&&(this.resumePausedMutations(),this.#t.onFocus())}),this.#o=x.subscribe(()=>{x.isOnline()&&(this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#u?.(),this.#u=void 0,this.#o?.(),this.#o=void 0)}isFetching(t){return this.#t.findAll(h(o({},t),{fetchStatus:"fetching"})).length}isMutating(t){return this.#r.findAll(h(o({},t),{status:"pending"})).length}getQueryData(t){return this.#t.find({queryKey:t})?.state.data}ensureQueryData(t){let e=this.getQueryData(t.queryKey);return e!==void 0?Promise.resolve(e):this.fetchQuery(t)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:e,state:r})=>{let s=r.data;return[e,s]})}setQueryData(t,e,r){let i=this.#t.find({queryKey:t})?.state.data,n=At(e,i);if(typeof n>"u")return;let a=this.defaultQueryOptions({queryKey:t});return this.#t.build(this,a).setData(n,h(o({},r),{manual:!0}))}setQueriesData(t,e,r){return d.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,r)]))}getQueryState(t){return this.#t.find({queryKey:t})?.state}removeQueries(t){let e=this.#t;d.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){let r=this.#t,s=o({type:"active"},t);return d.batch(()=>(r.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(s,e)))}cancelQueries(t={},e={}){let r=o({revert:!0},e),s=d.batch(()=>this.#t.findAll(t).map(i=>i.cancel(r)));return Promise.all(s).then(b).catch(b)}invalidateQueries(t={},e={}){return d.batch(()=>{if(this.#t.findAll(t).forEach(s=>{s.invalidate()}),t.refetchType==="none")return Promise.resolve();let r=h(o({},t),{type:t.refetchType??t.type??"active"});return this.refetchQueries(r,e)})}refetchQueries(t={},e){let r=h(o({},e),{cancelRefetch:e?.cancelRefetch??!0}),s=d.batch(()=>this.#t.findAll(t).filter(i=>!i.isDisabled()).map(i=>{let n=i.fetch(void 0,r);return r.throwOnError||(n=n.catch(b)),i.state.fetchStatus==="paused"?Promise.resolve():n}));return Promise.all(s).then(b)}fetchQuery(t){let e=this.defaultQueryOptions(t);typeof e.retry>"u"&&(e.retry=!1);let r=this.#t.build(this,e);return r.isStaleByTime(e.staleTime)?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(b).catch(b)}fetchInfiniteQuery(t){return t.behavior=Jt(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(b).catch(b)}resumePausedMutations(){return this.#r.resumePausedMutations()}getQueryCache(){return this.#t}getMutationCache(){return this.#r}getDefaultOptions(){return this.#e}setDefaultOptions(t){this.#e=t}setQueryDefaults(t,e){this.#n.set(C(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){let e=[...this.#n.values()],r={};return e.forEach(s=>{q(t,s.queryKey)&&(r=o(o({},r),s.defaultOptions))}),r}setMutationDefaults(t,e){this.#s.set(C(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){let e=[...this.#s.values()],r={};return e.forEach(s=>{q(t,s.mutationKey)&&(r=o(o({},r),s.defaultOptions))}),r}defaultQueryOptions(t){if(t?._defaulted)return t;let e=h(o(o(o({},this.#e.queries),t?.queryKey&&this.getQueryDefaults(t.queryKey)),t),{_defaulted:!0});return e.queryHash||(e.queryHash=k(e.queryKey,e)),typeof e.refetchOnReconnect>"u"&&(e.refetchOnReconnect=e.networkMode!=="always"),typeof e.throwOnError>"u"&&(e.throwOnError=!!e.suspense),typeof e.networkMode>"u"&&e.persister&&(e.networkMode="offlineFirst"),e}defaultMutationOptions(t){return t?._defaulted?t:h(o(o(o({},this.#e.mutations),t?.mutationKey&&this.getMutationDefaults(t.mutationKey)),t),{_defaulted:!0})}clear(){this.#t.clear(),this.#r.clear()}};var at=class extends M{constructor(t,e){super(),this.#r=void 0,this.#t=t,this.setOptions(e),this.bindMethods(),this.#s()}#t;#r;#e;#n;bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){let e=this.options;this.options=this.#t.defaultMutationOptions(t),Kt(e,this.options)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#e,observer:this}),this.#e?.setOptions(this.options),e?.mutationKey&&this.options.mutationKey&&C(e.mutationKey)!==C(this.options.mutationKey)&&this.reset()}onUnsubscribe(){this.hasListeners()||this.#e?.removeObserver(this)}onMutationUpdate(t){this.#s(),this.#i(t)}getCurrentResult(){return this.#r}reset(){this.#e?.removeObserver(this),this.#e=void 0,this.#s(),this.#i()}mutate(t,e){return this.#n=e,this.#e?.removeObserver(this),this.#e=this.#t.getMutationCache().build(this.#t,this.options),this.#e.addObserver(this),this.#e.execute(t)}#s(){let t=this.#e?.state??nt();this.#r=h(o({},t),{isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})}#i(t){d.batch(()=>{if(this.#n&&this.hasListeners()){let e=this.#r.variables,r=this.#r.context;t?.type==="success"?(this.#n.onSuccess?.(t.data,e,r),this.#n.onSettled?.(t.data,null,e,r)):t?.type==="error"&&(this.#n.onError?.(t.error,e,r),this.#n.onSettled?.(void 0,t.error,e,r))}this.listeners.forEach(e=>{e(this.#r)})})}};function K(t,e){let r=!e?.manualCleanup;r&&!e?.injector&&z(K);let s=r?e?.injector?.get(Z)??O(Z):null,i;e?.requireSync?i=J({kind:0}):i=J({kind:1,value:e?.initialValue});let n=t.subscribe({next:a=>i.set({kind:1,value:a}),error:a=>{if(e?.rejectErrors)throw a;i.set({kind:2,error:a})}});return s?.onDestroy(n.unsubscribe.bind(n)),Y(()=>{let a=i();switch(a.kind){case 1:return a.value;case 2:throw a.error;case 0:throw new yt(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}var ae=new I("QUERY_CLIENT_OPTIONS",{providedIn:"root",factory(){return{}}});function Xt({source:t,signal:e}){let r=new lt;return e&&e.addEventListener("abort",()=>{r.next(),r.complete()}),ft(t.pipe(e?pt(r):s=>s))}function L(t,e,r){let s=t.defaultQueryOptions(e);s._optimisticResults="optimistic";let i=s.queryFn;return i&&(s.queryFn=function(n){let a=this;return gt(r,()=>{let c=i.call(a,n);return B(c)?Xt({source:c,signal:n.signal}):c})}),s}var Zt=new I("QueryClient",{providedIn:"root",factory(){return new ut(O(ae))}}),ue=(()=>{let e=class e{constructor(){this.instance=O(Zt),this.instance.mount()}ngOnDestroy(){this.instance.unmount()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ce=new I("QueryClientService",{providedIn:"root",factory(){return Ct(O(vt))&&O(ue),O(Zt)}});function ct(){return O(ce)}var ut=class extends ot{#t=O(W);ensureQueryData(e){let r=L(this,e,this.#t);return super.ensureQueryData(r)}fetchQuery(e){let r=L(this,e,this.#t);return super.fetchQuery(r)}prefetchQuery(e){let r=L(this,e,this.#t);return super.prefetchQuery(r)}fetchInfiniteQuery(e){let r=L(this,e,this.#t);return super.fetchInfiniteQuery(r)}prefetchInfiniteQuery(e){let r=L(this,e,this.#t);return super.prefetchInfiniteQuery(r)}};var he=(()=>{var e;let r=class r{constructor(){j(this,e,ct())}use(i){let n=new E(a=>{a.next(S(this,e).isFetching(i));let c=S(this,e).getQueryCache().subscribe(d.batchCalls(()=>{a.next(S(this,e).isFetching(i))}));return()=>c()}).pipe(V());return{result$:n,toSignal:()=>K(n)}}};e=new WeakMap,r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=Q({token:r,factory:r.\u0275fac,providedIn:"root"});let t=r;return t})(),ts=new I("UseIsFetching",{providedIn:"root",factory(){let t=new he;return t.use.bind(t)}});var le=(()=>{var e;let r=class r{constructor(){j(this,e,ct())}use(i){let n=new E(a=>{a.next(S(this,e).isMutating(i));let c=S(this,e).getMutationCache().subscribe(d.batchCalls(()=>{a.next(S(this,e).isMutating(i))}));return()=>c()}).pipe(V());return{result$:n,toSignal:()=>K(n)}}};e=new WeakMap,r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=Q({token:r,factory:r.\u0275fac,providedIn:"root"});let t=r;return t})(),es=new I("UseIsFetching",{providedIn:"root",factory(){let t=new le;return t.use.bind(t)}});var fe=(()=>{var e;let r=class r{constructor(){j(this,e,ct())}use(i){let n=new at(S(this,e),h(o({},i),{mutationFn:l=>{let p=i.mutationFn(l);return B(p)?Xt({source:p}):p}})),a=new E(l=>{l.next(n.getCurrentResult());let p=n.subscribe(d.batchCalls(D=>l.next(D)));return()=>p()}).pipe(dt({bufferSize:1,refCount:!0})),c=(l,p)=>{n.mutate(l,p).catch(()=>{})},u;return{mutate:c,mutateAsync:n.mutate.bind(n),reset:n.reset.bind(n),setOptions:n.setOptions.bind(n),result$:a,get result(){return u||(u=K(this.result$,{requireSync:!0})),u}}}};e=new WeakMap,r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=Q({token:r,factory:r.\u0275fac,providedIn:"root"});let t=r;return t})(),de=new I("UseMutation",{providedIn:"root",factory(){let t=new fe;return t.use.bind(t)}});function _t(){return O(de)}var ls=(()=>{var e;let r=class r{constructor(){j(this,e,void 0);ht(this,e,_t()),this.router=O(Pt)}login(){return S(this,e).call(this,{mutationFn:({username:i,password:n})=>new E(a=>{let c="jose.parra@smartsoftlabs.com";if(i!==c||n!=="Qwe@123")return a.error({message:"El usuario y/o la contrase\xF1a son inv\xE1lidos."});let l="cf1329fd-824d-4316-830d-6c31e9d3d77c",p={email:c,fullname:"Jose Luis",nickname:"jose.parra"};return et(tt.token,l),et(tt.session,{user:p,token:l}),this.router.navigate(["app"]),a.next({user:p,token:l})})})}logout(){return S(this,e).call(this,{mutationFn:()=>new E(i=>(Rt(),this.router.navigate(["login"]),i.next()))})}};e=new WeakMap,r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=Q({token:r,factory:r.\u0275fac,providedIn:"root"});let t=r;return t})();export{ye as a,ls as b};
